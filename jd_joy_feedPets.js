/ *
å® æ±ªæ±ªå–‚é£Ÿï¼ˆå¦‚æœå–‚é£Ÿ80gå¤±è´¥ï¼Œé™çº§ä¸€ä¸ªæ¡£æ¬¡å–‚é£Ÿï¼ˆ40gï¼Œä¾æ¬¡ç±»æ¨ï¼‰ï¼‰ï¼Œä¸‰é¤ï¼Œå»ºè®®ä¸€å°æ—¶è¿è¡Œä¸€æ¬¡
æ›´æ–°æ—¶é—´ï¼š2020-11-03
æ´»åŠ¨å…¥å£ï¼šäº¬ä¸œAPPæˆ‘çš„-æ›´å¤šå·¥å…·-å® æ±ªæ±ª
æ”¯æŒäº¬ä¸œå¤šä¸ªè´¦å·
è„šæœ¬å…¼å®¹ï¼šQuantumultXï¼ŒSurgeï¼ŒLoonï¼ŒJSBoxï¼ŒNode.js
=============æ•°é‡X ===============
[task_local]
ï¼ƒäº¬ä¸œå® æ±ªæ±ªå–‚é£Ÿ
15 0-23 / 1 * * * https://gitee.com/lxk0301/jd_scripts/raw/master/jd_joy_feedPets.jsï¼Œtag =äº¬ä¸œå® æ±ªæ±ªå–‚é£Ÿï¼Œimg-url = httpsï¼š//raw.githubusercontent.com/ 58xinian / icon / master / jdcww.pngï¼Œenabled = true
=============æœˆçƒ===============
[è„šæœ¬]
cronâ€œ 15 0-23 / 1 * * *â€è„šæœ¬è·¯å¾„= httpsï¼š//gitee.com/lxk0301/jd_scripts/raw/master/jd_joy_feedPets.js,tag=äº¬ä¸œå® æ±ªæ±ªå–‚é£Ÿ
=========æµªæ¶Œ=============
[è„šæœ¬]
äº¬ä¸œå® æ±ªæ±ªå–‚é£Ÿ=ç±»å‹= cronï¼Œcronexp =â€œ 15 0-23 / 1 * * *â€ï¼Œå”¤é†’ç³»ç»Ÿ= 1ï¼Œè¶…æ—¶= 3600ï¼Œè„šæœ¬è·¯å¾„= httpsï¼š//gitee.com/lxk0301/jd_scripts/raw /master/jd_joy_feedPets.js
===============å°ç«ç®­==========
äº¬ä¸œå® æ±ªæ±ªå–‚é£Ÿ=ç±»å‹= cronï¼Œè„šæœ¬è·¯å¾„= httpsï¼š//gitee.com/lxk0301/jd_scripts/raw/master/jd_joy_feedPets.jsï¼Œcronexpr =â€œ 15 0-23 / 1 * * *â€ï¼Œè¶…æ—¶= 3600 ï¼Œenable = true
* /
  const  $  =  new  Env ï¼ˆ'å® æ±ªæ±ªğŸ•å–‚é£Ÿ' ï¼‰;
  const  notify  =  $ ã€‚isNode ï¼ˆï¼‰å—ï¼Ÿè¦æ±‚ï¼ˆ'./sendNotify' ï¼‰ï¼š'' ;
  //Node.jsç”¨æˆ·è¯·åœ¨jdCookie.jså¤„å¡«å……äº¬ä¸œck;
  const  jdCookieNode  =  $ ã€‚isNode ï¼ˆï¼‰å—ï¼Ÿrequire ï¼ˆ'./jdCookie.js' ï¼‰ï¼š'' ;
  
  // IOSç­‰ç”¨æˆ·ç›´æ¥ç”¨NobyDaçš„jd cookie
  è®© cookiesArr  =  [ ] ï¼Œ cookie  =  '' ;
  å¦‚æœ ï¼ˆ$ ã€‚isNode ï¼ˆï¼‰ï¼‰ {
    å¯¹è±¡ã€‚é”®ï¼ˆjdCookieNode ï¼‰ã€‚forEach ï¼ˆï¼ˆé¡¹ç›®ï¼‰ =>  {
      cookiesArr ã€‚æ¨é€ï¼ˆjdCookieNode [ item ] ï¼‰
    } ï¼‰
    å¦‚æœ ï¼ˆè¿‡ç¨‹ã€‚ENV ã€‚JD_DEBUG  && è¿‡ç¨‹ã€‚ENV ã€‚JD_DEBUG  ===  'å‡' ï¼‰ çš„æ§åˆ¶å°ã€‚log  =  ï¼ˆï¼‰ =>  { } ;
  } å…¶ä»– {
    cookiesArr  =  [ $ ã€‚getdata ï¼ˆ'CookieJD' ï¼‰ï¼Œ $ ã€‚getdata ï¼ˆ'CookieJD2' ï¼‰ï¼Œ ... jsonParse ï¼ˆ$ ã€‚getdata ï¼ˆ'CookiesJD' ï¼‰ ||  â€œ []â€ ï¼‰ã€‚æ˜ å°„ï¼ˆé¡¹ => é¡¹ã€‚é¥¼å¹²ï¼‰] ã€‚æ»¤æ³¢å™¨ï¼ˆé¡¹ç›® => ï¼ ï¼é¡¹ï¼‰;
  }
  è®© jdNotify  =  true ; //æ˜¯å¦å¼€å¯é™é»˜è¿è¡Œã€‚æˆ–æ˜¯çœŸæ­£å¼€å¯
  è®© message  =  '' ï¼Œ subTitle  =  '' ;
  const  JD_API_HOST  =  'https: //jdjoy.jd.com '
  //è®©FEED_NUM =ï¼ˆ$ .getdataï¼ˆ'joyFeedCount'ï¼‰* 1ï¼‰|| 80; //å–‚é£Ÿæ•°é‡ä»»é€‰10gï¼Œä»»é€‰10,20,40,80ï¼Œå…¶ä»–æ•°å­—ä¸å¯ã€‚
  è®© FEED_NUM  =  80 ;
  
  ï¼ï¼ˆå¼‚æ­¥ ï¼ˆï¼‰ =>  {
    å¦‚æœ ï¼ˆï¼cookiesArr [ 0 ] ï¼‰ {
      $ ã€‚msg ï¼ˆ$ ã€‚name ï¼Œ 'ã€æç¤ºã€‘è¯·å…ˆè·å–äº¬ä¸œè´¦å·ä¸€cookie \ nç›´æ¥ä½¿ç”¨NobyDaçš„äº¬ä¸œç­¾åˆ°è·å–' ï¼Œ 'https: //bean.m.jd.com/bean/signIndex.action ' ï¼Œ { â€œ open-urlâ€œï¼šâ€ https://bean.m.jd.com/bean/signIndex.actionâ€œ } ï¼‰ï¼›
      å›æŠ¥;
    }
    å¯¹äº ï¼ˆè®© æˆ‘ =  0 ; æˆ‘ <  cookiesArr ã€‚é•¿åº¦; æˆ‘++ ï¼‰ {
      å¦‚æœ ï¼ˆcookiesArr [ i ] ï¼‰ {
        cookie  =  cookiesArr [ i ] ï¼›
        $ ã€‚ç”¨æˆ·å =  decodeURIComponent ï¼ˆé¥¼å¹²ã€‚åŒ¹é…ï¼ˆ/ pt_pin = ï¼ˆã€‚+ï¼Ÿï¼‰ ; /ï¼‰ && é¥¼å¹²ã€‚åŒ¹é…ï¼ˆ/ pt_pin = ï¼ˆã€‚+ï¼Ÿï¼‰ ; /ï¼‰[ 1 ] ï¼‰
        $ ã€‚æŒ‡æ•° =  i  +  1 ;
        $ ã€‚isLogin  =  true ;
        $ ã€‚nickName  =  '' ;
        ç­‰å¾… TotalBean ï¼ˆï¼‰;
        æ§åˆ¶å°ã€‚æ—¥å¿—ï¼ˆ`\ nå¼€å§‹ã€äº¬ä¸œè´¦å·$ { $ ã€‚ç´¢å¼•}ã€‘$ { $ ã€‚æ˜µç§° ||  $ ã€‚ç”¨æˆ·å} \ N` ï¼‰;
        å¦‚æœ ï¼ˆï¼$ ã€‚isLogin ï¼‰ {
          $ ã€‚å‘³ç²¾ï¼ˆ$ ã€‚åç§°ï¼Œ `ã€æç¤ºã€‘é¥¼å¹²å·²å¤±æ•ˆ` ï¼Œ `äº¬ä¸œè´¦å·$ { $ ã€‚æŒ‡æ•°}  $ { $ ã€‚ç»°å· ||  $ ã€‚ç”¨æˆ·å} \ nè¯·é‡æ–°ç™»å½•è·å–\ nhttpsï¼š//bean.mã€‚ jd.com / bean / signIndex.action` ï¼Œ { â€œ open-urlâ€ï¼šâ€œ https://bean.m.jd.com/bean/signIndex.actionâ€ } ï¼‰ï¼›
  
          å¦‚æœ ï¼ˆ$ ã€‚isNode ï¼ˆï¼‰ï¼‰ {
            ç­‰å¾… é€šçŸ¥ã€‚sendNotify ï¼ˆ` $ { $ ã€‚å}é¥¼å¹²å·²å¤±æ•ˆ- $ { $ ã€‚ç”¨æˆ·å} ` ï¼Œ `äº¬ä¸œè´¦å·$ { $ ã€‚æŒ‡æ•°}  $ { $ ã€‚ç”¨æˆ·å} \ nè¯·é‡æ–°ç™»å½•è·å–cookie` ï¼‰;
          }
          ç»§ç»­
        }
        æ¶ˆæ¯ =  '' ;
        subTitle  =  '' ;
        å¦‚æœ ï¼ˆ$ ã€‚isNode ï¼ˆï¼‰ï¼‰ {
          å¦‚æœ ï¼ˆè¿‡ç¨‹ã€‚ENV ã€‚JOY_FEED_COUNT ï¼‰ {
            å¦‚æœ ï¼ˆ[ 0 ï¼Œ 10 ï¼Œ 20 ï¼Œ 40 ï¼Œ 80 ] ã€‚çš„indexOf ï¼ˆè¿‡ç¨‹ã€‚ENV ã€‚JOY_FEED_COUNT  *  1 ï¼‰ >  - 1 ï¼‰ {
              FEED_NUM  = æµç¨‹ã€‚ENV ã€‚JOY_FEED_COUNTä¸ªï¼Ÿè¿‡ç¨‹ã€‚ENV ã€‚JOY_FEED_COUNT  *  1ï¼šFEED_NUM ï¼›
            } å…¶ä»– {
              æ§åˆ¶å°ã€‚æ—¥å¿—ï¼ˆ`æ‚¨è¾“å…¥çš„JOY_FEED_COUNTä¸ºéæ³•æ•°å­—ï¼Œè¯·é‡æ–°è¾“å…¥` ï¼‰;
            }
          }
        }
        ç­‰å¾… feedPets ï¼ˆFEED_NUM ï¼‰; //å–‚é£Ÿ
        ç­‰å¾… ä¸‰é¤ï¼ˆï¼‰; //ä¸‰é¤
        ç­‰å¾… showMsg ï¼ˆï¼‰;
      }
    }
  } ï¼‰ï¼ˆï¼‰
      ã€‚æŠ“ï¼ˆï¼ˆe ï¼‰ =>  {
        $ ã€‚æ—¥å¿—ï¼ˆ'' ï¼Œ `âŒ $ { $ ã€‚åå­—}ï¼Œå¤±è´¥åŸå› ï¼š$ { Ã© } `ï¼ ï¼Œ '' ï¼‰
      } ï¼‰
      ã€‚æœ€åï¼ˆï¼ˆï¼‰ =>  {
        $ ã€‚å®Œæˆï¼ˆï¼‰;
      } ï¼‰
  å‡½æ•° showMsg ï¼ˆï¼‰ {
    $ ã€‚æ—¥å¿—ï¼ˆ`\ n $ { message } \ n` ï¼‰;
    jdNotify  =  $ ã€‚getdata ï¼ˆ'jdJoyNotify' ï¼‰å—ï¼Ÿ$ ã€‚getdata ï¼ˆ'jdJoyNotify' ï¼‰ï¼šjdNotify ;
    å¦‚æœ ï¼ˆï¼jdNotify  ||  jdNotify  ===  'false' ï¼‰ {
      //$.msg($.nameï¼ŒsubTitleï¼Œ`ã€äº¬ä¸œè´¦å·$ {$ã€‚index}] $ {$ã€‚UserName} \ n` + messageï¼‰;
    }
  }
  å‡½æ•° feedPets ï¼ˆfeedNum ï¼‰ {
    è¿”å› æ–°çš„ Promise ï¼ˆresolve  =>  {
      æ§åˆ¶å°ã€‚log ï¼ˆæ‚¨è®¾ç½®çš„å–‚é£Ÿæ•°é‡:: $ { FEED_NUM } g \ n` ï¼‰;
      å¦‚æœ ï¼ˆFEED_NUM  ===  0 ï¼‰ { æ§åˆ¶å°ã€‚æ—¥å¿—ï¼ˆ`è·³å‡ºå–‚é£Ÿ` ï¼‰; è§£å†³ï¼ˆï¼‰; è¿”å› }
      æ§åˆ¶å°ã€‚log ï¼ˆ`å®é™…çš„å–‚é£Ÿæ•°é‡:: $ { feedNum } g \ n` ï¼‰;
      è®© opt  =  {
        ç½‘å€ï¼š`//jdjoy.jd.com/common/pet/feed? feedCount= $ { feedNum }ï¼†reqSource = h5` ï¼Œ
        //ç½‘å€ï¼šâ€œ // draw.jdfcloud.com/common/pet/getPetTaskConfig?reqSource=h5â€ï¼Œ
        æ–¹æ³•ï¼šâ€œ GETâ€ ï¼Œ
        æ•°æ®ï¼š{ } ï¼Œ
        å‡­æ®ï¼šâ€œåŒ…æ‹¬â€ ï¼Œ
        æ ‡å¤´ï¼š{ â€œ content-typeâ€ï¼šâ€œ application / jsonâ€ }
      }
      const  url  =  â€œ httpsï¼šâ€ +  taroRequest ï¼ˆopt ï¼‰[ 'url' ]
      const  options  =  {
        URL ï¼Œ
        æ ‡å¤´ï¼š{
          â€œ Cookieâ€ï¼šcookie ï¼Œ
          'reqSource'ï¼š'h5' ï¼Œ
          'ä¸»æœº'ï¼š'jdjoy.jd.com' ï¼Œ
          'è¿æ¥'ï¼š'ä¿æŒæ´»åŠ¨çŠ¶æ€' ï¼Œ
          'Content-Type'ï¼š'application / json' ï¼Œ
          'Referer'ï¼š'https : //jdjoy.jd.com/pet/index ' ï¼Œ
          â€œç”¨æˆ·ä»£ç†â€ï¼š$ ã€‚isNode ï¼ˆï¼‰å—ï¼Ÿï¼ˆè¿‡ç¨‹ã€‚ENV ã€‚JD_USER_AGENTï¼Ÿè¿‡ç¨‹ã€‚ENV ã€‚JD_USER_AGENTï¼šï¼ˆè¦æ±‚ï¼ˆ'./USER_AGENTS' ï¼‰ã€‚ USER_AGENT ï¼‰ï¼‰ï¼šï¼ˆ$ ã€‚çš„GetData ï¼ˆ'JDUA' ï¼‰ï¼Ÿ $ ã€‚çš„GetData ï¼ˆ'JDUA' ï¼‰ï¼š â€œjdapp; iPhone ; 9.2.2; 14.2;ï¼…E4ï¼…BAï¼…ACï¼…E4ï¼…B8ï¼…9C / 9.2.2 CFNetwork / 1206 Darwin / 20.1.0â€œï¼‰ï¼Œ
          'Accept-Language'ï¼š'zh-cn' ï¼Œ
          'Accept-Encoding'ï¼š'gzipï¼Œdeflateï¼Œbr' ï¼Œ
        }
      }
      $ ã€‚get ï¼ˆoptions ï¼Œ async  ï¼ˆerr ï¼Œ resp ï¼Œ data ï¼‰ =>  {
        å°è¯• {
          $ ã€‚æ•°æ® =  JSON ã€‚è§£æï¼ˆæ•°æ®ï¼‰;
          å¦‚æœ ï¼ˆ$ ã€‚æ•°æ®ã€‚æˆåŠŸï¼‰ {
            å¦‚æœ ï¼ˆ$ ã€‚æ•°æ®ã€‚çš„errorCode  ===  'feed_ok' ï¼‰ {
              æ§åˆ¶å°ã€‚æ—¥å¿—ï¼ˆ'å–‚é£ŸæˆåŠŸ' ï¼‰
              æ¶ˆæ¯ + =  `ã€å–‚é£ŸæˆåŠŸã€‘$ { feedNum } g \ n` ;
            } å¦åˆ™ å¦‚æœ ï¼ˆ$ ã€‚æ•°æ®ã€‚çš„errorCode  ===  'time_error' ï¼‰ {
              æ§åˆ¶å°ã€‚log ï¼ˆ'å–‚é£Ÿå¤±è´¥ï¼šæ­£åœ¨é£Ÿç”¨' ï¼‰
              message  + =  `ã€å–‚é£Ÿå¤±è´¥ã€‘æ‚¨çš„æ±ªæ±ªæ­£åœ¨é£Ÿç”¨\ n` ;
            } å¦åˆ™ å¦‚æœ ï¼ˆ$ ã€‚æ•°æ®ã€‚çš„errorCode  ===  'food_insufficient' ï¼‰ {
              æ§åˆ¶å°ã€‚log ï¼ˆ`å½“å‰å–‚é£Ÿ$ { feedNum } gç‹—ç²®ä¸å¤Ÿï¼Œç°ä¸ºæ‚¨é™ä½ä¸€æ¡£æ¬¡å–‚é£Ÿ\ n` ï¼‰
              å¦‚æœ ï¼ˆï¼ˆfeedNum ï¼‰ ===  80 ï¼‰ {
                feedNum  =  40 ;
              } å¦åˆ™ï¼Œ å¦‚æœ ï¼ˆï¼ˆfeedNum ï¼‰ ===  40 ï¼‰ {
                feedNum  =  20 ;
              } å¦åˆ™ï¼Œ å¦‚æœ ï¼ˆï¼ˆfeedNum ï¼‰ ===  20 ï¼‰ {
                feedNum  =  10 ;
              } å¦åˆ™ï¼Œ å¦‚æœ ï¼ˆï¼ˆfeedNum ï¼‰ ===  10 ï¼‰ {
                feedNum  =  0 ;
              }
              //å¦‚æœå–‚é£Ÿè®¾ç½®çš„æ•°é‡å¤±è´¥ï¼Œå°±é™ä½ä¸€ä¸ªæ¡£æ¬¡å–‚é£Ÿã€‚
              å¦‚æœ ï¼ˆï¼ˆfeedNum ï¼‰ ï¼==  0 ï¼‰ {
                ç­‰å¾… feedPets ï¼ˆfeedNum ï¼‰;
              } å…¶ä»– {
                æ§åˆ¶å°ã€‚æ—¥å¿—ï¼ˆ'æ‚¨çš„ç‹—ç²®å·²ä¸è¶³10g' ï¼‰
                æ¶ˆæ¯ + =  `ã€å–‚é£Ÿå¤±è´¥ã€‘æ‚¨çš„ç‹—ç²®å·²ä¸è¶³10g \ n` ;
              }
            } å…¶ä»– {
              æ§åˆ¶å°ã€‚æ—¥å¿—ï¼ˆ`å…¶ä»–çŠ¶æ€$ { $ ã€‚æ•°æ®ã€‚çš„errorCode } ` ï¼‰
            }
          }
        } æŠ“ä½ ï¼ˆe ï¼‰ {
          $ ã€‚logErr ï¼ˆe ï¼Œ resp ï¼‰;
        } æœ€å {
          å†³å¿ƒï¼ˆ$ ã€‚æ•°æ®ï¼‰;
        }
      } ï¼‰
    } ï¼‰
  }
  
  //ä¸‰é¤
  åŠŸèƒ½ ThreeMeals ï¼ˆï¼‰ {
    è¿”å› æ–°çš„ Promise ï¼ˆresolve  =>  {
      è®© opt  =  {
        ç½‘å€ï¼šâ€œ // jdjoy.jd.com/common/pet/getFood?taskType=ThreeMeals&reqSource=h5â€ ï¼Œ
        //ç½‘å€ï¼šâ€œ // draw.jdfcloud.com/common/pet/getPetTaskConfig?reqSource=h5â€ï¼Œ
        æ–¹æ³•ï¼šâ€œ GETâ€ ï¼Œ
        æ•°æ®ï¼š{ } ï¼Œ
        å‡­æ®ï¼šâ€œåŒ…æ‹¬â€ ï¼Œ
        æ ‡å¤´ï¼š{ â€œ content-typeâ€ï¼šâ€œ application / jsonâ€ }
      }
      const  url  =  â€œ httpsï¼šâ€ +  taroRequest ï¼ˆopt ï¼‰[ 'url' ]
      const  options  =  {
        URL ï¼Œ
        æ ‡å¤´ï¼š{
          â€œ Cookieâ€ï¼šcookie ï¼Œ
          'reqSource'ï¼š'h5' ï¼Œ
          'ä¸»æœº'ï¼š'jdjoy.jd.com' ï¼Œ
          'è¿æ¥'ï¼š'ä¿æŒæ´»åŠ¨çŠ¶æ€' ï¼Œ
          'Content-Type'ï¼š'application / json' ï¼Œ
          'Referer'ï¼š'https : //jdjoy.jd.com/pet/index ' ï¼Œ
          â€œç”¨æˆ·ä»£ç†â€ï¼š$ ã€‚isNode ï¼ˆï¼‰å—ï¼Ÿï¼ˆè¿‡ç¨‹ã€‚ENV ã€‚JD_USER_AGENTï¼Ÿè¿‡ç¨‹ã€‚ENV ã€‚JD_USER_AGENTï¼šï¼ˆè¦æ±‚ï¼ˆ'./USER_AGENTS' ï¼‰ã€‚ USER_AGENT ï¼‰ï¼‰ï¼šï¼ˆ$ ã€‚çš„GetData ï¼ˆ'JDUA' ï¼‰ï¼Ÿ $ ã€‚çš„GetData ï¼ˆ'JDUA' ï¼‰ï¼š â€œjdapp; iPhone ; 9.2.2; 14.2;ï¼…E4ï¼…BAï¼…ACï¼…E4ï¼…B8ï¼…9C / 9.2.2 CFNetwork / 1206 Darwin / 20.1.0â€œï¼‰ï¼Œ
          'Accept-Language'ï¼š'zh-cn' ï¼Œ
          'Accept-Encoding'ï¼š'gzipï¼Œdeflateï¼Œbr' ï¼Œ
        }
      }
      $ ã€‚get ï¼ˆoptions ï¼Œ async  ï¼ˆerr ï¼Œ resp ï¼Œ data ï¼‰ =>  {
        å°è¯• {
          æ•°æ® =  JSON ã€‚è§£æï¼ˆæ•°æ®ï¼‰;
          å¦‚æœ ï¼ˆæ•°æ®ã€‚æˆåŠŸï¼‰ {
            å¦‚æœ ï¼ˆæ•°æ®ã€‚çš„errorCode  ===  'æ¥æ”¶' ï¼‰ {
              æ§åˆ¶å°ã€‚æ—¥å¿—ï¼ˆ`ä¸‰é¤ç»“æœé¢†å–æˆåŠŸ` ï¼‰
              message  + =  `ã€ä¸‰é¤ã€‘é¢†å–æˆåŠŸï¼Œè·å¾—$ { data ã€‚æ•°æ®} gç‹—ç²®\ n` ;
            }
          }
        } æŠ“ä½ ï¼ˆe ï¼‰ {
          $ ã€‚logErr ï¼ˆresp ï¼Œ e ï¼‰;
        } æœ€å {
          è§£å†³ï¼ˆæ•°æ®ï¼‰;
        }
      } ï¼‰
    } ï¼‰
  }
  å‡½æ•° jsonParse ï¼ˆstr ï¼‰ {
    å¦‚æœ ï¼ˆtypeof  str  ==  â€œ stringâ€ ï¼‰ {
      å°è¯• {
        è¿”å› JSON ã€‚è§£æï¼ˆstr ï¼‰;
      } æŠ“ä½ ï¼ˆe ï¼‰ {
        æ§åˆ¶å°ã€‚log ï¼ˆe ï¼‰;
        $ ã€‚msg ï¼ˆ$ ã€‚name ï¼Œ `` ï¼Œ 'ä¸è¦éšæ„åœ¨BoxJsè¾“å…¥æ¡†ä¿®æ”¹å†…å®¹\ nå»ºè®®é€šè¿‡è„šæœ¬å»è·å–cookie' ï¼‰
        è¿”å› [ ] ;
      }
    }
  }
  å‡½æ•° TotalBean ï¼ˆï¼‰ {
    è¿”å› æ–°çš„ Promise ï¼ˆå¼‚æ­¥ resolve  =>  {
      const  options  =  {
        â€œ urlâ€ï¼š`httpsï¼š//wq.jd.com/user/info/QueryJDUserInfoï¼Ÿsceneval = 2` ï¼Œ
        â€œæ ‡é¢˜â€ï¼š{
          â€œ Acceptâ€ï¼šâ€œ application / jsonï¼Œtext / plainï¼Œ* / *â€ ï¼Œ
          â€œ Content-Typeâ€ï¼šâ€œ application / x-www-form-urlencodedâ€ ï¼Œ
          â€œ Accept-Encodingâ€ï¼šâ€œ gzipï¼Œdeflateï¼Œbrâ€ ï¼Œ
          â€œ Accept-Languageâ€ï¼šâ€œ zh-cnâ€ ï¼Œ
          â€œè¿æ¥â€ï¼šâ€œä¿æŒæ´»åŠ¨â€ ï¼Œ
          â€œ Cookieâ€ï¼šcookie ï¼Œ
          â€œ Refererâ€ï¼šâ€œ https://wqs.jd.com/my/jingdou/my.shtml?sceneval=2â€ ï¼Œ
          â€œç”¨æˆ·ä»£ç†â€ï¼š$ ã€‚isNode ï¼ˆï¼‰å—ï¼Ÿï¼ˆè¿‡ç¨‹ã€‚ENV ã€‚JD_USER_AGENTï¼Ÿè¿‡ç¨‹ã€‚ENV ã€‚JD_USER_AGENTï¼šï¼ˆè¦æ±‚ï¼ˆ'./USER_AGENTS' ï¼‰ã€‚ USER_AGENT ï¼‰ï¼‰ï¼šï¼ˆ$ ã€‚çš„GetData ï¼ˆ'JDUA' ï¼‰ï¼Ÿ $ ã€‚çš„GetData ï¼ˆ'JDUA' ï¼‰ï¼š â€œjdapp; iPhone ; 9.2.2; 14.2;ï¼…E4ï¼…BAï¼…ACï¼…E4ï¼…B8ï¼…9C / 9.2.2 CFNetwork / 1206 Darwin / 20.1.0â€œï¼‰
        }
      }
      $ ã€‚post ï¼ˆoptions ï¼Œ ï¼ˆerr ï¼Œ resp ï¼Œ data ï¼‰ =>  {
        å°è¯• {
          å¦‚æœ ï¼ˆerr ï¼‰ {
            æ§åˆ¶å°ã€‚æ—¥å¿—ï¼ˆ` $ { JSON ã€‚å­—ç¬¦ä¸²åŒ–ï¼ˆERR ï¼‰} ` ï¼‰
            æ§åˆ¶å°ã€‚æ—¥å¿—ï¼ˆ` $ { $ ã€‚å} APIè¯·æ±‚å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘è·¯é‡è¯•` ï¼‰
          } å…¶ä»– {
            å¦‚æœ ï¼ˆæ•°æ®ï¼‰ {
              æ•°æ® =  JSON ã€‚è§£æï¼ˆæ•°æ®ï¼‰;
              if  ï¼ˆdata [ 'retcode' ]  ===  13 ï¼‰ {
                $ ã€‚isLogin  =  false ;  // cookieè¿‡æœŸ
                è¿”å›
              }
              if  ï¼ˆdata [ 'retcode' ]  ===  0 ï¼‰ {
                $ ã€‚nickName  = æ•°æ®[ 'base' ] ã€‚æ˜µç§°;
              } å…¶ä»– {
                $ ã€‚nickName  =  $ ã€‚ç”¨æˆ·å
              }
            } å…¶ä»– {
              æ§åˆ¶å°ã€‚æ—¥å¿—ï¼ˆ`äº¬ä¸œæœåŠ¡å™¨è¿”å›ç©ºæ•°æ®` ï¼‰
            }
          }
        } æŠ“ä½ ï¼ˆe ï¼‰ {
          $ ã€‚logErr ï¼ˆe ï¼Œ resp ï¼‰
        } æœ€å {
          è§£å†³ï¼ˆï¼‰;
        }
      } ï¼‰
    } ï¼‰
  }
  VAR  __encode  = 'jsjiami.com' ï¼Œ_a = { } ï¼Œ _0xb483 = [ â€œ\ X5F \ 64 \ X65 \ X63 \ x6F \ 64 \ X65â€ ï¼Œâ€œ\ X68 \ X74 \ X74 \ X70 \ X3A \ X2F \ X2F \ x77 \ x77 \ x77 \ x2E \ x73 \ x6F \ x6A \ x73 \ x6F \ x6E \ x2E \ x63 \ x6F \ x6D \ x2F \ x6A \ x61 \ x76 \ x61 \ x73 \ x63 \ x72 \ x72 \ x69 \ x70 \ x74 \ x6F \ x62 \ x66 \ x75 \ x73 \ x63 \ x61 \ x74 \ x6F \ x72 \ x2E \ x68 \ x74 \ x6D \ x6Câ€œ ] ï¼›ï¼ˆå‡½æ•°ï¼ˆ_0xd642x1 ï¼‰{_ 0xd642x1 [ _0xb483 [ 0 ] ] =  _0xb483 [ 1 ] } ï¼‰ï¼ˆ_a ï¼‰; var  __Oxb227b = [ â€œ \ x69 \ x73 \ x4E \ x6F \ x64 \ x65â€ ï¼Œâ€œ \ x63 \ x72 \ x79 \ x70 \ x74 \ x6F \ x2D \ x6A \ x73â€ ï¼Œâ€œ \ x39 \ x38 \ x63 \ x31 \ x34 \ x63 \ x39 \ x39 \ x37 \ x66 \ x64 \ x65 \ x35 \ x30 \ x63 \ x63 \ x31 \ x38 \ x62 \ x64 \ x65 \ x66 \ x65 \ x65 \ x63 \ x66 \ x64 \ x34 \ x38 \ x63 \ x65 \ x62 \ x37â€œ ï¼Œâ€ \ x70 \ x61 \ x72 \ x73 \ x65â€œ ï¼Œâ€ \ x55 \ x74 \ x66 \ x38â€œ ï¼Œâ€ \ x65 \ x6E \ x63â€œ ï¼Œâ€ \ x65 \ x61 \ x36 \ x35 \ x33 \ x66 \ x34 \ x66 \ x33 \ x63 \ x35 \ x65 \ x64 \ x61 \ x31 \ x32â€œ ï¼Œâ€ \ x63 \ x69 \ x70 \ x68 \ x65 \ x72 \ x74 \ x65 \ x65 \ x78 \ x74â€œ ï¼Œâ€ \ x43 \ x42 \ x43â€œ ï¼Œâ€ \ x6D \ x6F \ x64 \ x65â€œ ï¼Œâ€ \ x50 \ x6B \ x63 \ x73 \ x37â€œ ï¼Œâ€œ \ x65 \ x6E \ x63 \ x72 \ x79 \ x70 \ x74â€ ï¼Œâ€œ \ x41 \ x45 \ x53â€ ï¼Œâ€œ \ x48 \ x65 \ x78â€ ï¼Œâ€œ \ x73 \ x74 \ x72 \ x69 \ x6E \ x67 \ x69 \ x66 \ x79â€œ ï¼Œâ€ \ x42 \ x61 \ x73 \ x65 \ x36 \ x34â€œ ï¼Œâ€ \ x64 \ x65 \ x63 \ x72 \ x79 \ x70 \ x74â€œ ï¼Œâ€ \ x6C \ x65 \ x6E \ x67 \ x74 \ x68â€œ ï¼Œâ€ \ x6D \ x61 \ x70â€œ ï¼Œâ€ \ x73 \ x6F \ x72 \ x74â€œ ï¼Œâ€ \ x6B \ x65 \ x79 \ x73â€œ ï¼Œâ€ \ x67 \ x69 \ x66 \ x74â€œ ï¼Œâ€ \ x70 \ x65 \ x74â€œ ï¼Œâ€ \ x69 \ x6E \ x63 \ x6C \ x75 \ x64 \ x65 \ x73â€œ ï¼Œâ€ \ x26â€œ ï¼Œâ€ \ x6A \ x6F \ x69 \ x6Eâ€œ ï¼Œâ€ \ x3Dâ€œï¼Œâ€œ \ x3Fâ€ ï¼Œâ€œ \ x69 \ x6E \ x64 \ x65 \ x78 \ x4F \ x66â€ ï¼Œ"\x63\x6F\x6D\x6D\x6F\x6E\x2F","\x72\x65\x70\x6C\x61\x63\x65","\x68\x65\x61\x64\x65\x72","\x75\x72\x6C","\x72\x65\x71\x53\x6F\x75\x72\x63\x65\x3D\x68\x35","\x61\x73\x73\x69\x67\x6E","\x6D\x65\x74\x68\x6F\x64","\x47\x45\x54","\x64\x61\x74\x61","\x74\x6F\x4C\x6F\x77\x65\x72\x43\x61\x73\x65","\x6B\x65\x79\x43\x6F\x64\x65","\x63\x6F\x6E\x74\x65\x6E\x74\x2D\x74\x79\x70\x65","\x43\x6F\x6E\x74\x65\x6E\x74\x2D\x54\x79\x70\x65","","\x67\x65\x74","\x70\x6F\x73\x74","\x61\x70\x70\x6C\x69\x63\x61\x74\x69\x6F\x6E\x2F\x78\x2D\x77\x77\x77\x2D\x66\x6F\x72\x6D\x2D\x75\x72\x6C\x65\x6E\x63\x6F\x64\x65\x64","\x5F","\x75\x6E\x64\x65\x66\x69\x6E\x65\x64","\x6C\x6F\x67","\u5220\u9664","\u7248\u672C\u53F7\uFF0C\x6A\x73\u4F1A\u5B9A","\u671F\u5F39\u7A97\uFF0C","\u8FD8\u8BF7\u652F\u6301\u6211\u4EEC\u7684\u5DE5\u4F5C","\x6A\x73\x6A\x69\x61","\x6D\x69\x2E\x63\x6F\x6D"];function taroRequest(_0x1226x2){const _0x1226x3= $ [ __Oxb227b [ 0x0 ] ] ï¼ˆï¼‰ï¼Ÿè¦æ±‚ï¼ˆ__Oxb227b [ 0x1 ] ï¼‰ï¼šCryptoJS ; const  _0x1226x4 = __Oxb227b [ 0x2 ] ; const  _0x1226x5 = _0x1226x3 [ __Oxb227b [ 0x5 ] ] [ __Oxb227b [ 0x4 ] ] [ __Oxb227b [ 0x3 ] ] ï¼ˆ_0x1226x4ï¼‰; const  _0x1226x6 = _0x1226x3 [ __Oxb227b [ 0x5 ] ] [ __Oxb227b [ 0x4 ] ] [ __Oxb227b [ 0x3 ] ] ï¼ˆ__Oxb227b [ 0x6 ] ï¼‰; è®© _0x1226x7 = { â€œ \ x41 \ x65 \ x73 \ x45 \ x6E \ x63 \ x72 \ x79 \ x70 \ x74â€ï¼šå‡½æ•° _0x1226x8 ï¼ˆ_0x1226x2 ï¼‰{ var  _0x1226x9 = _0x1226x3 [ __Oxb227b [0x5 ] ] [ __Oxb227b [ 0x4 ] ] [ __Oxb227b [ 0x3 ] ] ï¼ˆ_0x1226x2 ï¼‰; è¿”å› _0x1226x3 [ __Oxb227b [ 0xdä¸­] ] [ __Oxb227b [ä½äº0xC ] ] ï¼ˆ_0x1226x9 ï¼Œ_0x1226x5 ï¼Œ{ â€œ\ X69 \ X76â€ ï¼š_0x1226x6 ï¼Œâ€œ\ X6D \ x6F \ 64 \ X65â€ ï¼š_0x1226x3 [ __Oxb227b [ 0x9 ] ][ __Oxb227b [ 0x8 ] ] ï¼Œâ€œ \ x70 \ x61 \ x64 \ x64 \ x69 \ x6E \ x67â€ï¼š_0x1226x3 [ __Oxb227b [ 0xb ] ] [ __Oxb227b [ 0xa ] ] } ï¼‰[ __Oxb227b [ 0x7 ] ] ã€‚toString ï¼ˆï¼‰} ï¼Œâ€œ \ x41 \ x65 \ x73 \ x44 \ x65 \ x63 \ x72 \ x79 \ x70 \ x74â€ï¼šå‡½æ•° _0x1226xa ï¼ˆ_0x1226x2 ï¼‰{ var  _0x1226x9 = _0x1226x3 [__Oxb227b[0x5]][__Oxb227b[0xe]][__Oxb227b[0x3]](_0x1226x2),_0x1226xb=_0x1226x3[__Oxb227b[0x5]][__Oxb227b[0x10]][__Oxb227b[0xf]](_0x1226x9);return _0x1226x3[__Oxb227b[0xd]] [ __Oxb227b [ 0Ã—11 ] ] ï¼ˆ_0x1226xb ï¼Œ_0x1226x5 ï¼Œ{ â€œ\ X69 \ X76â€ ï¼š_0x1226x6 ï¼Œâ€œ\ X6D \ x6F \ 64 \ X65â€ ï¼š_0x1226x3 [ __Oxb227b [ 0x9 ] ] [ __Oxb227b [ 0x8ä¸­] ] ï¼Œâ€œ\ X70 \ x61 \ x64 \ x64 \ x69 \ x6E \ x67â€œï¼š_0x1226x3 [ __Oxb227b [ 0xb ] ] [ __Oxb227b [ 0xa ] ] } ï¼‰ã€‚toString ï¼ˆ_0x1226x3 [ __ Oxb227b [ 0x5 ] ] ã€‚utf8 ï¼‰ã€‚toString ï¼ˆï¼‰} ï¼Œâ€œ \ x42 \ x61 \ x73 \ x65 \ x36 \ x34 \ x45 \ x6E \ x63 \ x6F \ x64 \ x65â€ï¼šå‡½æ•° _0x1226xc ï¼ˆ_0x1226x2 ï¼‰{ var  _0x1226x9 = _0x1226x3 [ __Oxb227b [ [ xx5x227b ] [ 0x5 ] [ 0x4 ] ] [ __Oxb227b [ 0x3 ] ] ï¼ˆ_0x1226x2 ï¼‰; è¿”å› _0x1226x3 [ __Oxb227b [ 0x5 ] ] [ __Oxb227b [ 0x10 ] ] [ __Oxb227b [ 0xf ] ] ï¼ˆ_0x1226x9 ï¼‰} ï¼Œâ€œ \ x42 \ x61 \ x73 \ x65 \ x36 \ x34 \ x44 \ x65 \ x63 \ x6F \ â€œï¼šå‡½æ•° _0x1226xd ï¼ˆ_0x1226x2 ï¼‰{è¿”å› _0x1226x3 [ __Oxb227b [ 0x5 ] ] [ __Oxb227b [ 0x10 ]] [ __Oxb227b [ 0x3 ] ] ï¼ˆ_0x1226x2 ï¼‰ã€‚toString ï¼ˆ_0x1226x3 [ __Oxb227b [ 0x5 ] ] ã€‚Utf8 ï¼‰} ï¼Œâ€œ \ x4D \ x64 \ x35 \ x65 \ x6E \ x63 \ x6F \ x64 \ x65â€ï¼šå‡½æ•° _0x1226xe ï¼ˆ_0x1226x2 ï¼‰{è¿”å› _0x1226x3 ã€‚MD5 ï¼ˆ_0x1226x2 ï¼‰ã€‚toString ï¼ˆï¼‰} ï¼Œâ€œ \ x6B \ x65 \ x79 \ x43 \ x6F \ x64 \ x65â€ï¼š__Oxb227b[0x2]};const _0x1226xf=function _0x1226x10(_0x1226x2,_0x1226x9){if(_0x1226x2 instanceof  Array){_0x1226x9= _0x1226x9|| [];for(var _0x1226xb=0;_0x1226xb< _0x1226x2[__Oxb227b[0x12]];_0x1226xb++){_0x1226x9 [ _0x1226xb ] =  _0x1226x10 ï¼ˆ_0x1226x2 [ _0x1226xb ] ï¼Œ_0x1226x9 [ _0x1226xb ] ï¼‰} }å…¶ä»– { ï¼ï¼ˆ_0x1226x2 çš„instanceof  é˜µåˆ—ï¼‰&&  _0x1226x2 çš„instanceof  å¯¹è±¡ï¼Ÿï¼ˆ_0x1226x9 =  _0x1226x9 ||  { } ï¼Œå¯¹è±¡[ __Oxb227b [ 0x15 ] ] ï¼ˆ_0x1226x2 ï¼‰[__Oxb227b [ 0Ã—14 ] ] ï¼ˆï¼‰[ __Oxb227b [ 0Ã—13 ] ] ï¼ˆå‡½æ•°ï¼ˆ_0x1226xb ï¼‰{ _0x1226x9 [ _0x1226xb ] =  _0x1226x10 ï¼ˆ_0x1226x2 [ _0x1226xb ] ï¼Œ_0x1226x9 [ _0x1226xb ] ï¼‰} ï¼‰ï¼‰ï¼š_0x1226x9 =  _0x1226x2 } ; è¿”å› _0x1226x9 } ; const  _0x1226x11=function _0x1226x12(_0x1226x2){for(var _0x1226x9=[__Oxb227b[0x16],__Oxb227b[0x17]],_0x1226xb=!1,_0x1226x3=0;_0x1226x3< _0x1226x9[__Oxb227b[0x12]];_0x1226x3++){var _0x1226x4=_0x1226x9[_0x1226x3];_0x1226x2[__Oxb227b[0x18]](_0x1226x4)&&  !_0x1226xb&& (_0x1226xb=  !0)};return _0x1226xb};const _0x1226x13=function _0x1226x14(_0x1226x2,_0x1226x9){if(_0x1226x9&& Object[__Oxb227b[0x15]](_0x1226x9)[__Oxb227b[0x12]]> 0){var _0x1226xb=Object[__Oxb227b[0x15]](_0x1226x9)[__Oxb227b[0x13]](function(_0x1226x2){return _0x1226x2+ __Oxb227b[0x1b]+ _0x1226x9[_0x1226x2]})[ __Oxb227b [ 0x1a ] ] ï¼ˆ__Oxb227b [ 0x19 ] ï¼‰; è¿”å› _0x1226x2 [ __Oxb227b [ 0x1d ] ] ï¼ˆ__Oxb227b [ 0x1c ] ï¼‰> =  0å—ï¼Ÿ_0x1226x2 +  __Oxb227b [ 0x19 ] +  _0x1226xbï¼š_0x1226x2 +  __Oxb227b [ 0x1c ] +  _0x1226xb } ; è¿”å› _0x1226x2 };const _0x1226x15=function _0x1226x16(_0x1226x2){for(var _0x1226x9=_0x1226x6,_0x1226xb=0;_0x1226xb< _0x1226x9[__Oxb227b[0x12]];_0x1226xb++){var _0x1226x3=_0x1226x9[_0x1226xb];_0x1226x2[__Oxb227b[0x18]](_0x1226x3)&&  !_0x1226x2[__Oxb227b[0x18]](__Oxb227b[0x1e]+ _0x1226x3)&& (_0x1226x2= _0x1226x2[__Oxb227b[0x1f]](_0x1226x3,__Oxb227b[0x1e]+ _0x1226x3))};return _0x1226x2};var _0x1226x9=_0x1226x2ï¼Œ_0x1226xb = ï¼ˆ_0x1226x9 [ __Oxb227b [ 0x20 ] ] ï¼Œ_0x1226x9 [ __Oxb227b [ 0x21 ] ] ï¼‰ï¼›_0x1226xb + =  ï¼ˆ_0x1226xb [ __Oxb227b [ 0x1d ] ] ï¼ˆ__Oxb227b [ 0x1c ] ï¼‰>   - 1ï¼Ÿ__Oxb227b [ 0x19 ]ï¼š__Oxb227b [ 0x1c ] ï¼‰+  __Oxb227b[ 0x22 ] ; VAR  _0x1226x17 =å‡½æ•° _0x1226x18 ï¼ˆ_0x1226x2 ï¼‰{ VAR  _0x1226x9 = _0x1226x2 [ __Oxb227b [ 0Ã—21 ] ] ï¼Œ_0x1226xb = _0x1226x2 [ __Oxb227b [ 0X24 ] ] ï¼Œ_0x1226x3 =æ— æ•ˆï¼ˆ0 ï¼‰===  _0x1226xbï¼Ÿ__Oxb227b [ 0x25 ]ï¼š_0x1226xb ï¼Œ_0x1226x4= _0x1226x2 [ __Oxb227b [ 0x26 ] ] ï¼Œ_0x1226x6 = _0x1226x2 [ __Oxb227b [ 0x20 ] ] ï¼Œ_0x1226x19 = void ï¼ˆ0 ï¼‰===  _0x1226x6å—ï¼Ÿ{ }ï¼š_0x1226x6 ï¼Œ_0x1226x1a = _0x1226x3 [ __Oxb227b [ 0x27 ] ] ï¼ˆï¼‰ï¼Œ_ 0x1226x1b = _0x1226x7 [ __Oxb227b [ 0x28]],_0x1226x1c=_0x1226x19[__Oxb227b[0x29]]|| _0x1226x19[__Oxb227b[0x2a]]|| __Oxb227b[0x2b],_0x1226x1d=__Oxb227b[0x2b],_0x1226x1e=+ new Date();return _0x1226x1d= __Oxb227b[0x2c]!== _0x1226x1a&& ï¼ˆ__Oxb227b [ 0x2d ] ==  _0x1226x1a ||  __Oxb227b [ 0x2Eè¯»å–] ==  _0x1226x1c [ __Oxb227b [ 0Ã—27 ] ] ï¼ˆï¼‰&&  _0x1226x4 && å¯¹è±¡[ __Oxb227b [ 0Ã—15 ] ] ï¼ˆ_0x1226x4 ï¼‰[ __Oxb227b [ 0Ã—12 ] ] ï¼‰ï¼Ÿ_0x1226x7 ã€‚Md5encode ï¼ˆ_0x1226x7 ã€‚Base64Encode ï¼ˆ_0x1226x7 ã€‚AesEncrypt ï¼ˆ__Oxb227b [ 0x2Bè®¿é—®] +  JSON [ __Oxb227b [ 0xf ] ] ï¼ˆ_0x1226xf ï¼ˆ_0x1226x4 ï¼‰ï¼‰ï¼‰ï¼‰+  __Oxb227b [å€¼ä¸º0x2F ] +  _0x1226x1b +  __Oxb227b [å€¼ä¸º0x2F ] +  _0x1226x1e ï¼‰ï¼š_0x1226x7 ã€‚Md5encode ï¼ˆ__Oxb227b [ 0x2f ] +  _0x1226x1b + __Oxb227b [å€¼ä¸º0x2F ] +  _0x1226x1e ï¼‰ï¼Œ_0x1226x11 ï¼ˆ_0x1226x9 ï¼‰&&  ï¼ˆ_0x1226x9 =  _0x1226x13 ï¼ˆ_0x1226x9 ï¼Œ{ â€œ\ X6C \ X6B \ X73â€ ï¼š_0x1226x1d ï¼Œâ€œ\ X6C \ X6B \ X74â€ ï¼š_0x1226x1e } ï¼‰ï¼Œ_0x1226x9 =  _0x1226x15 ï¼ˆ_0x1226x9 ï¼‰ï¼‰ï¼Œå¯¹è±¡[ __Oxb227b [ 0x23 ] ] ï¼ˆ_0x1226x2 ï¼Œ{â€œ\ X75 \ X72 \ X6Câ€ ï¼š_0x1226x9 } ï¼‰} ï¼ˆ_0x1226x2 = å¯¹è±¡[ __Oxb227b [ 0Ã—23 ] ] ï¼ˆ_0x1226x2 ï¼Œ{ â€œ\ X75 \ X72 \ X6Câ€ ï¼š_0x1226xb } ï¼‰ï¼‰; return  _0x1226x17 } ï¼ˆå‡½æ•°ï¼ˆ_0x1226x1f ï¼Œ_0x1226xf ï¼Œ_0x1226x20 ï¼Œ_0x1226x21 ï¼Œ_0x1226x1c ï¼Œ_0x1226x22 ï¼‰{_ 0x1226x22 =  __Oxb227b[0x30];_0x1226x21= function(_0x1226x19){if( typeof alert!== _0x1226x22){alert(_0x1226x19)};if( typeof console!== _0x1226x22){console[__Oxb227b[0x31]](_0x1226x19)}};_0x1226x20= function(_0x1226x3,_0x1226x1f){return _0x1226x3+ _0x1226x1f};_0x1226x1c= _0x1226x20(__Oxb227b[0x32],_0x1226x20(_0x1226x20(__Oxb227b[0x33],__Oxb227b[0x34]),__Oxb227b[0x35]));try{_0x1226x1f= __encode;if(!( typeofè¿ç®— _0x1226x1f ï¼==  _0x1226x22 &&  _0x1226x1f ===  _0x1226x20 ï¼ˆ__Oxb227b [ 0x36 ] ï¼Œ__Oxb227b [ 0Ã—37 ] ï¼‰ï¼‰ï¼‰{ _0x1226x21 ï¼ˆ_0x1226x1c ï¼‰} }æ•è·ï¼ˆÃ‰ ï¼‰{ _0x1226x21 ï¼ˆ_0x1226x1c ï¼‰} } ï¼‰ï¼ˆ{ } ï¼‰
  //æ›´æ¼‚äº®çš„å¿½ç•¥
  å‡½æ•° Env ï¼ˆt ï¼Œe ï¼‰{ç±» s {æ„é€ å‡½æ•°ï¼ˆt ï¼‰{ this ã€‚env = t } send ï¼ˆt ï¼Œe = â€œ GETâ€ ï¼‰{ t = â€œ stringâ€ == typeof  tï¼Ÿ{ urlï¼št }ï¼št ; è®© s = this ã€‚å¾—åˆ°; è¿”å›â€œ POSTâ€ ===Ãˆ && ï¼ˆå°å·=æ­¤ã€‚äº¤ï¼‰ï¼Œæ–° æ— æï¼ˆï¼ˆÃª ï¼Œæˆ‘ï¼‰=> {å°å·ã€‚å‘¼å«ï¼ˆè¿™ï¼Œå¨ï¼Œï¼ˆå¨ï¼Œs ^ ï¼Œ- [R ï¼‰=> {å¨ï¼Ÿæˆ‘ï¼ˆå¨ï¼‰ï¼šÃˆ ï¼ˆå°å·ï¼‰} ï¼‰} ï¼‰}å¾—åˆ°ï¼ˆç‰›é€¼ï¼‰{å›æŠ¥ è¿™ä¸ªã€‚å‘é€ã€‚è°ƒç”¨ï¼ˆæ­¤ã€‚ENV ï¼Œç‰›é€¼ï¼‰}åï¼ˆç‰›é€¼ï¼‰{è¿”å› æ­¤ã€‚å‘é€ã€‚ç”µè¯ï¼ˆæ­¤ã€‚ENV ï¼Œç‰›é€¼ï¼Œâ€œPOSTâ€ ï¼‰} }è¿”å› æ–° ç±»{æ„é€ å‡½æ•°ï¼ˆç‰›é€¼ï¼ŒÄ“ ï¼‰{æ­¤ã€‚åå­—= t ï¼Œè¿™ä¸ªã€‚http =æ–°çš„ å°å·ï¼ˆæœ¬ï¼‰ï¼Œè¿™ä¸ªã€‚æ•°æ®= null ï¼Œè¿™ã€‚dataFile = â€œ box.datâ€ ï¼Œè¿™ä¸ªã€‚åŸæœ¨= [ ] ï¼Œè¿™ä¸ªã€‚isMute = ï¼1 ï¼Œè¿™ä¸ªã€‚isNeedRewrite = ï¼1 ï¼Œè¿™ä¸ªã€‚logSeparator = â€œ \ nâ€ ï¼Œè¿™ä¸ªã€‚startTime = ï¼ˆæ–° æ—¥æœŸï¼‰ã€‚getTime ï¼ˆï¼‰ï¼Œå¯¹è±¡ã€‚åˆ†é…ï¼ˆthis ï¼Œe ï¼‰ï¼Œthis ã€‚æ—¥å¿—ï¼ˆâ€œâ€ ï¼Œ`ğŸ”” $ {è¿™ä¸ªã€‚åå­—}ï¼Œå¼€å§‹ï¼' ï¼‰} isNode ï¼ˆï¼‰{è¿”å›â€œæœªå®šä¹‰â€ ï¼= typeofè¿ç®— æ¨¡å—&& ï¼ï¼æ¨¡å—ã€‚å‡ºå£} isQuanX ï¼ˆï¼‰{è¿”å›â€œæœªå®šä¹‰â€ ï¼= typeofè¿ç®— $ä»»åŠ¡} isSurge ï¼ˆï¼‰{è¿”å›â€œ undefinedâ€ ï¼= typeof  $ httpClient && â€œ undefinedâ€ == typeof  $ loon } isLoon ï¼ˆï¼‰{è¿”å›â€œ undefinedâ€ ï¼= typeof  $ loon } toObj ï¼ˆt ï¼Œe = null ï¼‰{ try { return  JSON ã€‚è§£æï¼ˆt ï¼‰} catch { return  e } } toStrï¼ˆt ï¼Œe = null ï¼‰{è¯•è¯•{è¿”å› JSON ã€‚stringify ï¼ˆt ï¼‰} catch { return  e } } getjson ï¼ˆt ï¼Œe ï¼‰{è®© s = e ; const  i = this ã€‚getdata ï¼ˆt ï¼‰; å¦‚æœï¼ˆi ï¼‰å°è¯•{ s = JSON ã€‚è§£æï¼ˆæ­¤ã€‚çš„GetData ï¼ˆç‰›é€¼ï¼‰ï¼‰}èµ¶ä¸Š{ }è¿”å› å°å·} setjson ï¼ˆç‰›é€¼ï¼ŒÄ“ ï¼‰{å°è¯•{è¿”å› æ­¤ã€‚ä½¿ç”¨setData ï¼ˆJSON ã€‚å­—ç¬¦ä¸²åŒ–ï¼ˆç‰›é€¼ï¼‰ï¼ŒÄ“ ï¼‰}èµ¶ä¸Š{å›æŠ¥ï¼1 } } getScript ï¼ˆt ï¼‰{è¿”å› æ–°çš„ Promise ï¼ˆe => {æ­¤ã€‚å¾—åˆ°ï¼ˆ{ç½‘å€ï¼šç‰›é€¼} ï¼Œï¼ˆç‰›é€¼ï¼Œs ^ ï¼Œæˆ‘ï¼‰=> Ã‹ ï¼ˆæˆ‘ï¼‰ï¼‰} ï¼‰}çš„runScript ï¼ˆç‰›é€¼ï¼ŒÄ“ ï¼‰{è¿”å› æ–°çš„ æ‰¿è¯ºï¼ˆå°å·=> {è®© æˆ‘=æ­¤ã€‚çš„GetData ï¼ˆâ€œ@chavy_boxjs_userCfgs .httpapiâ€œ ï¼‰; i = iï¼Ÿæˆ‘ã€‚æ›¿æ¢ï¼ˆ/ \ n / g ï¼Œâ€œâ€ ï¼‰ã€‚ä¿®å‰ªï¼ˆï¼‰ï¼ši ; ä»¤ r = this ã€‚getdata ï¼ˆâ€œ @ chavy_boxjs_userCfgs.httpapi_timeoutâ€ ï¼‰ï¼›r = rï¼Ÿ1 * rï¼š20 ï¼Œr = e && e ã€‚è¶…æ—¶ï¼Ÿe ã€‚è¶…æ—¶ï¼šr ; const [o ï¼Œh ] = i ã€‚split ï¼ˆâ€œ @â€ ï¼‰ï¼Œn = { urlï¼š`httpï¼š// $ { h } / v1 / scripting / evaluate` ï¼Œæ­£æ–‡ï¼š{ script_textï¼št ï¼Œmock_typeï¼šâ€œ cronâ€ ï¼Œè¶…æ—¶ï¼šr } ï¼Œæ ‡å¤´ï¼š{ â€œ X-Keyâ€ï¼šo ï¼Œæ¥å—ï¼šâ€œ * / *â€ } } ; è¿™ä¸ªã€‚post ï¼ˆn ï¼Œï¼ˆt ï¼Œe ï¼Œi ï¼‰=> s ï¼ˆi ï¼‰ï¼‰} ï¼‰ã€‚æ•æ‰ï¼ˆå¨=>æ­¤ã€‚LOGERR ï¼ˆå¨ï¼‰ï¼‰} loaddata ï¼ˆï¼‰{å¦‚æœï¼ˆï¼æ­¤ã€‚isNode ï¼ˆï¼‰ï¼‰è¿”å›{ } ; {è¿™ä¸ªã€‚fs = this ã€‚fsï¼Ÿè¿™ä¸ªã€‚fsï¼šrequire ï¼ˆâ€œ fsâ€ ï¼‰ï¼Œè¿™ä¸ªã€‚è·¯å¾„=è¿™ä¸ªã€‚è·¯å¾„ï¼Ÿè¿™ä¸ªã€‚è·¯å¾„ï¼šrequire ï¼ˆâ€œ pathâ€ ï¼‰; const  t = this ã€‚è·¯å¾„ã€‚è§£å†³ï¼ˆæ­¤ã€‚æ•°æ®æ–‡ä»¶ï¼‰ï¼ŒÃª =æ­¤ã€‚è·¯å¾„ã€‚è§£å†³ï¼ˆè¿‡ç¨‹ã€‚CWD ï¼ˆï¼‰ï¼Œè¿™ä¸ªã€‚dataFile ï¼‰ï¼Œs = this ã€‚fs ã€‚å­˜åœ¨åŒæ­¥ï¼ˆt ï¼‰ï¼Œæˆ‘= ï¼s && this ã€‚fs ã€‚existSync ï¼ˆe ï¼‰; å¦‚æœï¼ˆï¼s && ï¼i ï¼‰è¿”å›{ } ; { const  i = så—ï¼Ÿtï¼še ; å°è¯•{è¿”å› JSON ã€‚è§£æï¼ˆæ­¤ã€‚FS ã€‚readFileSync ï¼ˆæˆ‘ï¼‰ï¼‰}æ•è·ï¼ˆå¨ï¼‰{è¿”å›{ } } } } }å†™æ•°æ®ï¼ˆï¼‰{å¦‚æœï¼ˆæ­¤ã€‚isNode ï¼ˆï¼‰ï¼‰{æ­¤ã€‚fs = this ã€‚fsï¼Ÿè¿™ä¸ªã€‚fsï¼šrequire ï¼ˆâ€œ fsâ€ ï¼‰ï¼Œè¿™ä¸ªã€‚è·¯å¾„=è¿™ä¸ªã€‚è·¯å¾„ï¼Ÿè¿™ä¸ªã€‚è·¯å¾„ï¼šrequire ï¼ˆâ€œ pathâ€ ï¼‰; const  t = this ã€‚è·¯å¾„ã€‚è§£å†³ï¼ˆæ­¤ã€‚æ•°æ®æ–‡ä»¶ï¼‰ï¼ŒÃª =æ­¤ã€‚è·¯å¾„ã€‚è§£å†³ï¼ˆè¿‡ç¨‹ã€‚CWD ï¼ˆï¼‰ï¼Œæ­¤ã€‚æ•°æ®æ–‡ä»¶ï¼‰ï¼ŒÅ¡ =æ­¤ã€‚fs ã€‚å­˜åœ¨åŒæ­¥ï¼ˆt ï¼‰ï¼Œæˆ‘= ï¼s && this ã€‚fs ã€‚existSync ï¼ˆe ï¼‰ï¼Œr = JSON ã€‚å­—ç¬¦ä¸²åŒ–ï¼ˆæ­¤ã€‚æ•°æ®ï¼‰; sï¼Ÿè¿™ä¸ªã€‚fs ã€‚writeFileSync ï¼ˆt ï¼Œr ï¼‰ï¼šæˆ‘ï¼Ÿè¿™ä¸ªã€‚fs ã€‚writeFileSync ï¼ˆe ï¼Œr ï¼‰ï¼šthis.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of iï¼‰if ï¼ˆr =å¯¹è±¡ï¼ˆr ï¼‰[ t ] ï¼Œvoid  0 === r ï¼‰è¿”å› s ; è¿”å› r } lodash_set ï¼ˆt ï¼Œe ï¼Œs ï¼‰{è¿”å› Object ï¼ˆt ï¼‰ï¼== tï¼Ÿå¨ï¼šï¼ˆé˜µåˆ—ã€‚IsArrayçš„ï¼ˆÃª ï¼‰|| ï¼ˆÃ‰ = Ã‹ ã€‚çš„toStringï¼ˆï¼‰ã€‚åŒ¹é…ï¼ˆ/ [ ^ã€‚[ \] ] + / g ï¼‰|| [ ] ï¼‰ï¼Œe ã€‚åˆ‡ç‰‡ï¼ˆ0 ï¼Œ- 1 ï¼‰ã€‚å‡å°‘ï¼ˆï¼ˆt ï¼Œs ï¼Œi ï¼‰=>å¯¹è±¡ï¼ˆt [ s ] ï¼‰=== t [ s ]ï¼Ÿt [ s ]ï¼št [s ] =æ•°å­¦ã€‚abs ï¼ˆe [ i + 1 ] ï¼‰>> 0 == + e [ i + 1 ]ï¼Ÿ[ ]ï¼š{ } ï¼Œt ï¼‰[ e [ e ã€‚é•¿åº¦- 1 ] ] =å°å·ï¼Œå¨ï¼‰}çš„GetData ï¼ˆå¨ï¼‰{è®© Ã‹ =æ­¤ã€‚getval ï¼ˆt ï¼‰; å¦‚æœï¼ˆ/ ^ @ /ã€‚è¯•éªŒï¼ˆå¨ï¼‰ï¼‰{å¸¸é‡[ ï¼Œs ^ ï¼Œæˆ‘] = / ^ @ ï¼ˆã€‚*ï¼Ÿï¼‰\ã€‚ï¼ˆã€‚*ï¼Ÿï¼‰$ /ã€‚exec ï¼ˆt ï¼‰ï¼Œr = sï¼Ÿè¿™ä¸ªã€‚getval ï¼ˆs ï¼‰ï¼šâ€œâ€ ; å¦‚æœï¼ˆr ï¼‰å°è¯•{ const  t = JSON ã€‚è§£æï¼ˆr ï¼‰; Ã‹ =å¨ï¼Ÿè¿™ä¸ªã€‚lodash_get ï¼ˆt ï¼Œi ï¼Œâ€œâ€ ï¼‰ï¼še } catch ï¼ˆt ï¼‰{ e = â€œâ€ } }} return  e } setdata ï¼ˆt ï¼Œe ï¼‰{è®© s =ï¼1 ; å¦‚æœï¼ˆ/ ^ @ /ã€‚è¯•éªŒï¼ˆÃª ï¼‰ï¼‰{å¸¸é‡[ ï¼Œæˆ‘ï¼Œ- [R ] = / ^ @ ï¼ˆã€‚*ï¼Ÿï¼‰\ã€‚ï¼ˆã€‚*ï¼Ÿï¼‰$ /ã€‚exec ï¼ˆe ï¼‰ï¼Œo =æ­¤ã€‚getval ï¼ˆi ï¼‰ï¼Œh =æˆ‘ï¼Ÿâ€œ nullâ€ === oï¼Ÿnullï¼šo || â€œ {}â€ï¼šâ€œ {}â€ ; è¯•è¯•{ const  e = JSON ã€‚è§£æï¼ˆh ï¼‰; è¿™ä¸ªã€‚lodash_set ï¼ˆe ï¼Œr ï¼Œt ï¼‰ï¼Œs = this ã€‚SETVAL ï¼ˆJSON ã€‚å­—ç¬¦ä¸²åŒ–ï¼ˆÃª ï¼‰ï¼Œæˆ‘ï¼‰}æ•è·ï¼ˆÃ‰ ï¼‰{const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return thisã€‚isSurge ï¼ˆï¼‰|| è¿™ä¸ªã€‚isLoon ï¼ˆï¼‰å—ï¼Ÿ$ persistentStore ã€‚è¯»ï¼ˆt ï¼‰ï¼šè¿™ä¸ªã€‚isQuanX ï¼ˆï¼‰ï¼Ÿ$ prefs ã€‚valueForKey ï¼ˆt ï¼‰ï¼šè¿™ä¸ªã€‚isNode ï¼ˆï¼‰å—ï¼Ÿï¼ˆæ­¤ã€‚æ•°æ®=æ­¤ã€‚loaddata ï¼ˆï¼‰ï¼Œæ­¤ã€‚æ•°æ®[å¨] ï¼‰ï¼šè¿™ä¸ªã€‚æ•°æ®&&æ­¤ã€‚æ•°æ®[ t ] || ç©º} setval ï¼ˆt ï¼Œe ï¼‰{è¿”å› è¿™ä¸ªã€‚isSurge ï¼ˆï¼‰|| è¿™ä¸ªã€‚isLoon ï¼ˆï¼‰å—ï¼Ÿ$ persistentStore ã€‚å†™ï¼ˆt ï¼Œe ï¼‰ï¼šè¿™ä¸ªã€‚isQuanX ï¼ˆï¼‰ï¼Ÿ$ prefs ã€‚setValueForKey ï¼ˆtï¼Œe ï¼‰ï¼šè¿™ä¸ªã€‚isNode ï¼ˆï¼‰å—ï¼Ÿï¼ˆæ­¤ã€‚æ•°æ®=æ­¤ã€‚loaddata ï¼ˆï¼‰ï¼Œæ­¤ã€‚æ•°æ®[ Ã« ] =å¨ï¼Œæ­¤ã€‚å†™æ•°æ®ï¼ˆï¼‰ï¼Œï¼0 ï¼‰ï¼šæ­¤ã€‚æ•°æ®&&æ­¤ã€‚æ•°æ®[ e ] || null } initGotEnv ï¼ˆtï¼‰{è¿™ä¸ªã€‚å¾—åˆ°=è¿™ä¸ªã€‚å¾—åˆ°äº†ï¼Ÿè¿™ä¸ªã€‚å¾—åˆ°äº†ï¼šrequire ï¼ˆâ€œ gotâ€ ï¼‰ï¼Œè¿™ä¸ªã€‚cktough =è¿™ä¸ªã€‚cktoughï¼Ÿè¿™ä¸ªã€‚cktoughï¼šè¦æ±‚ï¼ˆâ€œå¼ºç¡¬æ›²å¥‡â€ ï¼‰ï¼Œæœ¬ã€‚ckjar = this ã€‚ckjarï¼Ÿè¿™ä¸ªã€‚ckjarï¼šè¿™æ˜¯æ–°çš„ ã€‚cktough ã€‚CookieJar ï¼Œå¨&& ï¼ˆå¨ã€‚æ ‡é¢˜=å¨ã€‚æ ‡é¢˜ï¼Ÿå¨ã€‚æ ‡é¢˜ï¼š{ } ï¼Œç©ºéš™ 0 ===å¨ã€‚å¤´ã€‚æ›²å¥‡&&ç©ºéš™ 0 ===å¨ã€‚cookieJar && ï¼ˆå¨ã€‚cookieJar =æ­¤ã€‚ckjar ï¼‰ï¼‰} get ï¼ˆt ï¼Œe = ï¼ˆï¼ˆï¼‰=> { } ï¼‰ï¼‰ï¼‰{ t ã€‚å¤´&& ï¼ˆåˆ é™¤ å¨ã€‚æ ‡é¢˜[ â€œå†…å®¹ç±»å‹â€ ] ï¼Œåˆ é™¤ å¨ã€‚æ ‡é¢˜[ â€œå†…å®¹é•¿åº¦â€ ] ï¼‰ï¼Œè¯¥ã€‚isSurge ï¼ˆï¼‰|| è¿™ä¸ªã€‚isLoon ï¼ˆï¼‰å—ï¼Ÿï¼ˆæ­¤ã€‚isSurge ï¼ˆï¼‰&&æ­¤ã€‚isNeedRewrite && ï¼ˆå¨ã€‚æ ‡å¤´= t ã€‚æ ‡å¤´|| { } ï¼Œå¯¹è±¡ã€‚åˆ†é…ï¼ˆt ã€‚æ ‡å¤´ï¼Œ{ â€œ X-Surge-Skip-Scriptingâ€ï¼šï¼1 } ï¼‰ï¼‰ï¼‰ï¼Œ$ httpClient ã€‚å¾—åˆ°ï¼ˆå¨ï¼Œï¼ˆå¨ï¼Œå°å·ï¼Œæˆ‘ï¼‰=> { ï¼å¨&&å°å·&& ï¼ˆå°å·ã€‚èº«ä½“=æˆ‘ï¼ŒÅ¡ ã€‚statusCode = s ã€‚çŠ¶æ€ï¼‰ï¼Œe ï¼ˆt ï¼Œs ï¼Œi ï¼‰} ï¼‰ï¼‰ï¼‰ï¼šè¿™ä¸ªã€‚isQuanX ï¼ˆï¼‰ï¼Ÿï¼ˆæ­¤ã€‚isNeedRewrite && ï¼ˆå¨ã€‚OPTS =å¨ã€‚OPTS || { } ï¼Œå¯¹è±¡ã€‚åˆ†é…ï¼ˆå¨ã€‚OPTS ï¼Œ{æç¤ºï¼šï¼1 }ï¼‰ï¼‰ï¼Œ$ task ã€‚å–ï¼ˆt ï¼‰ã€‚ç„¶åï¼ˆå¨=> {å¸¸é‡{çš„StatusCodeï¼šå°å·ï¼Œçš„StatusCodeï¼šæˆ‘ï¼Œæ ‡é¢˜ï¼š- [R ï¼Œä½“ï¼šÃ• } =å¨; Ãˆ ï¼ˆç©ºï¼Œ{çŠ¶æ€ï¼šå°å·ï¼Œçš„StatusCodeï¼šæˆ‘ï¼Œæ ‡é¢˜ï¼š- [R ï¼Œä½“ï¼šÃ¶} ï¼Œo ï¼‰} ï¼Œt => e ï¼ˆt ï¼‰ï¼‰ï¼‰ï¼šè¿™ä¸ªã€‚isNode ï¼ˆï¼‰&& ï¼ˆæ­¤ã€‚initGotEnv ï¼ˆå¨ï¼‰ï¼Œæ­¤ã€‚å¾—åˆ°ï¼ˆå¨ï¼‰ã€‚åœ¨ï¼ˆâ€œé‡å®šå‘â€ ï¼Œï¼ˆå¨ï¼ŒÃª ï¼‰=> {å°è¯•{å¦‚æœï¼ˆå¨ã€‚æ ‡é¢˜[ â€œçš„Set-Cookieâ€ ]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){è¿™ä¸ªã€‚logErr ï¼ˆt ï¼‰} } ï¼‰ã€‚ç„¶åï¼ˆå¨=> {å¸¸é‡{çš„StatusCodeï¼šå°å·ï¼Œçš„StatusCodeï¼šæˆ‘ï¼Œæ ‡é¢˜ï¼š- [R ï¼Œä½“ï¼šÃ• } =å¨; Ãˆ ï¼ˆç©ºï¼Œ{çŠ¶æ€ï¼šå°å·ï¼Œçš„StatusCodeï¼šæˆ‘ï¼Œæ ‡é¢˜ï¼š- [R ï¼Œä½“ï¼šÃ¶} ï¼Œo ï¼‰} ï¼Œt => { const {æ¶ˆæ¯ï¼šs ï¼Œå“åº”ï¼ši } = t ; Ãˆ ï¼ˆå°å·ï¼Œæˆ‘ï¼Œæˆ‘&&æˆ‘ã€‚ä½“ï¼‰} ï¼‰ï¼‰}åï¼ˆå¨ï¼ŒÃª = ï¼ˆï¼ˆï¼‰=> { } ï¼‰ï¼‰{å¦‚æœï¼ˆå¨ã€‚ä½“&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge(ï¼‰&&æ­¤ã€‚isNeedRewrite && ï¼ˆå¨ã€‚æ ‡é¢˜=å¨ã€‚æ ‡é¢˜|| { } ï¼Œå¯¹è±¡ã€‚åˆ†é…ï¼ˆå¨ã€‚å¤´ï¼Œ{ â€œX-æµªæ¶Œè·³è¿‡-è„šæœ¬â€ï¼šï¼1 } ï¼‰ï¼‰ï¼Œ$ HttpClientçš„ã€‚post ï¼ˆt ï¼Œï¼ˆt ï¼Œs ï¼Œi ï¼‰=> { ï¼t && s &&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{} ï¼Œå¯¹è±¡ã€‚åˆ†é…ï¼ˆç‰›é€¼ã€‚OPTS ï¼Œ{æç¤ºï¼šï¼1 } ï¼‰ï¼‰ï¼Œ$ä»»åŠ¡ã€‚å–ï¼ˆt ï¼‰ã€‚ç„¶åï¼ˆt => { const { statusCodeï¼šs ï¼ŒstatusCodeï¼ši ï¼Œheadersï¼šr ï¼Œbodyï¼šo } = t ; e ï¼ˆnull ï¼Œ{ statusï¼šs ï¼ŒstatusCodeï¼ši ï¼Œæ ‡å¤´ï¼šr ï¼Œbodyï¼šo } ï¼Œo ï¼‰} ï¼Œt => e ï¼ˆt ï¼‰ï¼‰; å¦åˆ™ ï¼Œå¦‚æœï¼ˆè¿™ä¸ªã€‚isNode ï¼ˆï¼‰ï¼‰{è¿™ä¸ªã€‚initGotEnv ï¼ˆt ï¼‰; const { urlï¼šs ï¼Œ ... i } =t ; è¿™ä¸ªã€‚å¾—åˆ°äº†ã€‚å‘å¸ƒï¼ˆs ï¼Œi ï¼‰ã€‚ç„¶åï¼ˆt => { const { statusCodeï¼šs ï¼ŒstatusCodeï¼ši ï¼Œheadersï¼šr ï¼Œbodyï¼šo } = t ; e ï¼ˆnull ï¼ˆ{ statusï¼šs ï¼ŒstatusCodeï¼ši ï¼Œheadersï¼šr ï¼Œæ­£æ–‡ï¼šo } ï¼Œo ï¼‰} ï¼Œt => { const {æ¶ˆæ¯ï¼šs ï¼Œå“åº”ï¼ši } = t ; Ãˆ ï¼ˆå°å·ï¼Œæˆ‘ï¼Œæˆ‘&&æˆ‘ã€‚ä½“ï¼‰} ï¼‰} }æ—¶é—´ï¼ˆå¨ï¼ŒÃª =ç©ºï¼‰{å¸¸é‡ å°å·= Ãˆï¼Ÿæ–° æ—¥æœŸï¼ˆe ï¼‰ï¼šæ–° æ—¥æœŸ; ä»¤ i = { â€œ M +â€ï¼šs ã€‚getMonth ï¼ˆï¼‰+ 1 ï¼Œâ€œ d +â€ï¼šs ã€‚getDate ï¼ˆï¼‰ï¼Œâ€œ H +â€ï¼šs ã€‚getHours ï¼ˆï¼‰ï¼Œâ€œ m +â€ï¼šs ã€‚getMinutes ï¼ˆï¼‰ï¼Œâ€œ s +â€ï¼šs ã€‚getSeconds ï¼ˆï¼‰ï¼Œâ€œ q +â€ï¼šæ•°å­¦ã€‚åœ°æ¿ï¼ˆï¼ˆå°å·ã€‚å¾—åˆ°æœˆï¼ˆï¼‰+ 3 ï¼‰/ 3 ï¼‰ï¼Œå°å·ï¼šå°å·ã€‚getMilliseconds ï¼ˆï¼‰} ï¼›/ ï¼ˆ y + ï¼‰/ã€‚æµ‹è¯•ï¼ˆå¨ï¼‰&& ï¼ˆå¨=å¨ã€‚ä»£æ›¿ï¼ˆæ­£åˆ™è¡¨è¾¾å¼ã€‚$ 1 ï¼Œï¼ˆå°å·ã€‚å’ŒgetFullYear ï¼ˆï¼‰+ â€œâ€ ï¼‰ã€‚SUBSTR ï¼ˆ4 -æ­£åˆ™è¡¨è¾¾å¼ã€‚$ 1 ã€‚é•¿åº¦ï¼‰ï¼‰ï¼‰; å¯¹äºï¼ˆè®© Ãª åœ¨ æˆ‘ï¼‰æ–°çš„ æ­£åˆ™è¡¨è¾¾å¼ï¼ˆâ€œï¼ˆâ€ + Ã© + â€œï¼‰â€ ï¼‰ã€‚ æµ‹è¯•ï¼ˆå¨ï¼‰&& ï¼ˆå¨=å¨ã€‚ä»£æ›¿ï¼ˆæ­£åˆ™è¡¨è¾¾å¼ã€‚$ 1 ï¼Œ1 ==æ­£åˆ™è¡¨è¾¾å¼ã€‚$ 1 ã€‚é•¿åº¦ï¼Ÿæˆ‘[ Ã«]ï¼šï¼ˆâ€œ00â€ +æˆ‘[ Ã« ] ï¼‰ã€‚substr ï¼ˆï¼ˆâ€œâ€ + i [ e ] ï¼‰ã€‚length ï¼‰ï¼‰ï¼‰ï¼‰ï¼‰ï¼›è¿”å› t } msg ï¼ˆe = t ï¼Œs = â€œâ€ ï¼Œi = â€œâ€ ï¼Œr ï¼‰{ const  o = t => { if ï¼ˆï¼t ï¼‰return t ; if ï¼ˆâ€œ stringâ€ == typeof  t ï¼‰è¿”å› this ã€‚isLoon ï¼ˆï¼‰å—ï¼Ÿtï¼šè¿™ä¸ªã€‚isQuanX ï¼ˆï¼‰ï¼Ÿ{ â€œ open-urlâ€ï¼št }ï¼šæ­¤ã€‚isSurge ï¼ˆï¼‰ï¼Ÿ{ urlï¼št }ï¼šæ— æ•ˆ 0 ; if ï¼ˆâ€œ objectâ€ == typeof  t ï¼‰{ if ï¼ˆè¿™ä¸ªã€‚isLoon ï¼ˆï¼‰ï¼‰{ä»¤ e = t ã€‚openUrl || Å¤ ã€‚ç½‘å€|| t [ â€œ open-urlâ€ ] ï¼Œs = t ã€‚mediaUrl || t [ â€œ media-urlâ€ ] ; è¿”å›{çš„OpenURLï¼šÃ© ï¼ŒmediaUrlï¼šå°å·} }å¦‚æœï¼ˆè¿™ä¸ªã€‚isQuanX ï¼ˆï¼‰ï¼‰{è®© e = t [ â€œ open-urlâ€ ] || Å¤ ã€‚ç½‘å€|| Å¤ ã€‚openUrl ï¼Œs = t [ â€œ media-urlâ€ ] || Å¤ ã€‚mediaUrl ; è¿”å›{ â€œå¼€ç½‘å€â€ï¼šÃ© ï¼Œâ€œåª’ä½“é“¾æ¥â€ï¼šå°å·} }å¦‚æœï¼ˆè¿™ä¸ªã€‚isSurge ï¼ˆï¼‰ï¼‰{è®© Ã© =ç‰›é€¼ã€‚ç½‘å€|| Å¤ ã€‚openUrl || t [ â€œ open-urlâ€ ] ; return { urlï¼še } } } } ; å¦‚æœï¼ˆè¿™ä¸ªã€‚isMute || ï¼ˆæ­¤ã€‚isSurge ï¼ˆï¼‰||æ­¤ã€‚isLoon ï¼ˆï¼‰ï¼Ÿ$é€šçŸ¥ã€‚åï¼ˆÄ“ ï¼Œs ^ ï¼Œæˆ‘ï¼ŒÃ” ï¼ˆ[R ï¼‰ï¼‰ï¼šæ­¤ã€‚isQuanX ï¼ˆ)&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============ğŸ“£ç³»ç»Ÿé€šçŸ¥ğŸ“£=============="];t.push(e),s&&t.push(s),i&&t.push(i)ï¼Œæ§åˆ¶å°ã€‚æ—¥å¿—ï¼ˆç‰›é€¼ã€‚åŠ å…¥ï¼ˆâ€œ\ nâ€ ï¼‰ï¼‰ï¼Œè¿™ä¸ªã€‚æ—¥å¿—= this ã€‚æ—¥å¿—ã€‚concat ï¼ˆt ï¼‰} } log ï¼ˆ ... t ï¼‰{ t ã€‚é•¿åº¦> 0 && ï¼ˆæ­¤ã€‚æ—¥å¿—= [ ...æ­¤ã€‚åŸæœ¨ï¼Œ ...å¨] ï¼‰ï¼Œæ§åˆ¶å°ã€‚æ—¥å¿—ï¼ˆç‰›é€¼ã€‚åŠ å…¥ï¼ˆæ­¤ã€‚logSeparator ï¼‰ï¼‰} LOGERR ï¼ˆç‰›é€¼ï¼ŒÄ“ ï¼‰{å¸¸é‡ å°å·= ï¼è¿™ä¸ªã€‚isSurge ï¼ˆï¼‰&& ï¼è¿™ä¸ªã€‚isQuanX ï¼ˆï¼‰&& ï¼è¿™ä¸ªã€‚isLoon ï¼ˆï¼‰; sï¼Ÿè¿™ä¸ªã€‚log ï¼ˆâ€œâ€ ï¼Œ`â—ï¸ $ { this ã€‚åç§°}ï¼Œé”™è¯¯ï¼`ï¼Œtã€‚å †æ ˆï¼‰ï¼šè¿™ä¸ªã€‚æ—¥å¿—ï¼ˆâ€œâ€ ï¼Œ`â—ï¸ $ {è¿™ä¸ªã€‚åå­—}ï¼Œé”™è¯¯ï¼`ï¼Œç‰›é€¼ï¼‰}ç­‰å¾…ï¼ˆç‰›é€¼ï¼‰{è¿”å› æ–°çš„ æ‰¿è¯ºï¼ˆÃ©=>çš„setTimeoutï¼ˆÄ“ï¼Œç‰›é€¼ï¼‰ï¼‰}å®Œæˆï¼ˆç‰›é€¼={}ï¼‰{å¸¸é‡ e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`ğŸ””${this.name}, ç»“æŸ! ğŸ•› ${s} ç§’`),this.log(),(this.isSurge()||this.isQuanXï¼ˆï¼‰|| è¿™ä¸ªã€‚isLoon ï¼ˆï¼‰ï¼‰&& $ done ï¼ˆt ï¼‰} } ï¼ˆt ï¼Œe ï¼‰}
